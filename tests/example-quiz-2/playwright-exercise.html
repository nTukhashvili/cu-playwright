<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playwright Exercise - Before Quiz</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <style>
        body { padding: 40px; background: #f5f5f5; }
        .section { background: white; padding: 30px; margin-bottom: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .instructions { background: #e3f2fd; padding: 15px; border-left: 4px solid #2196f3; margin-bottom: 20px; }
        .points { float: right; background: #4caf50; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
        .clickable-item { cursor: pointer; padding: 15px; margin: 10px 0; border: 2px solid #ddd; border-radius: 5px; transition: all 0.3s; }
        .clickable-item:hover { background: #f0f0f0; }
        .clickable-item.selected { background: #4caf50; color: white; border-color: #4caf50; }
        .result-text { display: none; color: #4caf50; font-weight: bold; margin-top: 10px; }
        .draggable { width: 150px; height: 80px; background: #2196f3; color: white; margin: 10px; display: inline-flex; align-items: center; justify-content: center; cursor: move; border-radius: 5px; font-weight: bold; }
        .drop-zone { min-height: 200px; border: 3px dashed #ccc; padding: 20px; margin-top: 20px; border-radius: 5px; background: #fafafa; }
        .drop-zone.drag-over { background: #e3f2fd; border-color: #2196f3; }
        .dropped { background: #4caf50; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-5">Playwright Exercise - Pre-Quiz Practice</h1>
        
        <!-- SECTION 1: Text Inputs -->
        <div class="section">
            <h2>Section 1: Text Input Selectors <span class="points">2 Points</span></h2>
            <div class="instructions">
                <strong>Instructions:</strong>
                <ul>
                    <li>Find the <strong>Name</strong> input using CSS selector</li>
                    <li>Find the <strong>Surname</strong> input using XPath (use data-field attribute, no ID)</li>
                    <li>Find the <strong>Email</strong> input using custom XPath (has placeholder with "professional")</li>
                    <li>Find the <strong>Phone</strong> input using custom XPath (input that comes after label containing "Phone")</li>
                </ul>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Name:</label>
                <input type="text" class="form-control user-name" placeholder="Enter your name">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Surname:</label>
                <input type="text" class="form-control" data-field="surname" placeholder="Enter your surname">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Email:</label>
                <input type="email" class="form-control" placeholder="Enter your professional email address">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Phone Number:</label>
                <input type="tel" class="form-control" placeholder="Enter phone">
            </div>
        </div>

        <!-- SECTION 2: Clickable List -->
        <div class="section">
            <h2>Section 2: Dynamic List Selection <span class="points">2 Points</span></h2>
            <div class="instructions">
                <strong>Instructions:</strong>
                <ul>
                    <li>Use XPath to <strong>always find the LAST element</strong> in the list below</li>
                    <li>Click on it</li>
                    <li>Assert that the confirmation text appears</li>
                </ul>
            </div>
            
            <div id="clickable-list">
                <div class="clickable-item" data-item="1">Item 1 - Click me</div>
                <div class="clickable-item" data-item="2">Item 2 - Click me</div>
                <div class="clickable-item" data-item="3">Item 3 - Click me</div>
                <div class="clickable-item" data-item="4">Item 4 - Click me</div>
                <div class="clickable-item" data-item="5">Item 5 - I'm the last one!</div>
            </div>
            <div class="result-text" id="selection-result">✓ Correct! You selected the last item.</div>
        </div>

        <!-- SECTION 3: Drag and Drop -->
        <div class="section">
            <h2>Section 3: Drag and Drop <span class="points">2 Points</span></h2>
            <div class="instructions">
                <strong>Instructions:</strong>
                <ul>
                    <li>Use a <strong>loop</strong> to drag all 3 boxes into the drop zone</li>
                    <li>Use Playwright's <code>dragTo()</code> function</li>
                    <li>All boxes must be moved to pass</li>
                </ul>
            </div>
            
            <div id="draggables">
                <div class="draggable" draggable="true" data-box="1">Box 1</div>
                <div class="draggable" draggable="true" data-box="2">Box 2</div>
                <div class="draggable" draggable="true" data-box="3">Box 3</div>
            </div>
            
            <div class="drop-zone" id="drop-zone">
                Drop all boxes here
            </div>
        </div>

        <!-- SECTION 4: Alert Handling -->
        <div class="section">
            <h2>Section 4: Alert & Prompt Handling <span class="points">2 Points</span></h2>
            <div class="instructions">
                <strong>Instructions:</strong>
                <ul>
                    <li>Click the button below to trigger a prompt</li>
                    <li>Handle the prompt and <strong>dismiss it</strong> (click Cancel)</li>
                    <li>Verify the result message shows "Prompt was dismissed"</li>
                </ul>
            </div>
            
            <button class="btn btn-warning btn-lg" id="trigger-prompt">Trigger Prompt</button>
            <div class="mt-3" id="prompt-result"></div>
        </div>

    </div>

    <script>
        $(document).ready(function() {
            // Section 2: Clickable items
            $('.clickable-item').click(function() {
                $('.clickable-item').removeClass('selected');
                $(this).addClass('selected');
                
                const itemNumber = $(this).data('item');
                if (itemNumber === 5) {
                    $('#selection-result').fadeIn();
                } else {
                    $('#selection-result').fadeOut();
                }
            });

            // Section 3: Drag and Drop
            let draggedElement = null;

            $('.draggable').on('dragstart', function(e) {
                draggedElement = this;
                $(this).css('opacity', '0.5');
            });

            $('.draggable').on('dragend', function(e) {
                $(this).css('opacity', '1');
            });

            $('#drop-zone').on('dragover', function(e) {
                e.preventDefault();
                $(this).addClass('drag-over');
            });

            $('#drop-zone').on('dragleave', function(e) {
                $(this).removeClass('drag-over');
            });

            $('#drop-zone').on('drop', function(e) {
                e.preventDefault();
                $(this).removeClass('drag-over');
                
                if (draggedElement) {
                    $(draggedElement).addClass('dropped');
                    $(this).append(draggedElement);
                }
            });

            // Section 4: Prompt handling
            $('#trigger-prompt').click(function() {
                const userInput = prompt('Please enter your name:');
                
                if (userInput === null) {
                    $('#prompt-result').html('<div class="alert alert-success">✓ Prompt was dismissed</div>');
                } else {
                    $('#prompt-result').html('<div class="alert alert-info">You entered: ' + userInput + '</div>');
                }
            });
        });
    </script>
</body>
</html>